# BillManager Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED - These must be set for the application to start in production
# =============================================================================

# Database connection string
DATABASE_URL=postgresql://user:password@localhost:5432/billmanager

# Secret keys for session and JWT token signing
# Generate with: openssl rand -hex 32
# IMPORTANT: In production, at least one of these MUST be set or the app won't start
FLASK_SECRET_KEY=change-this-to-a-random-64-char-string
JWT_SECRET_KEY=change-this-to-another-random-64-char-string

# =============================================================================
# DEPLOYMENT MODE
# =============================================================================

# Deployment mode: 'self-hosted' (default) or 'saas'
# DEPLOYMENT_MODE=self-hosted

# =============================================================================
# EMAIL CONFIGURATION (Required for user invitations)
# =============================================================================

# Resend API key - get from https://resend.com
# Without this, user invitations will be disabled
RESEND_API_KEY=re_your_api_key_here

# Sender email address for outgoing emails
FROM_EMAIL=noreply@yourdomain.com

# Application URL (used in email links)
APP_URL=http://localhost:5000

# =============================================================================
# REGISTRATION OPTIONS (Self-hosted only)
# =============================================================================

# Enable public registration (default: false for self-hosted)
# ENABLE_REGISTRATION=false

# Require email verification for new registrations
# REQUIRE_EMAIL_VERIFICATION=false

# =============================================================================
# STRIPE BILLING (SaaS mode only)
# =============================================================================

# Stripe keys - get from https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_your_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe price IDs for subscription tiers
STRIPE_PRICE_BASIC_MONTHLY=price_basic_monthly_id
STRIPE_PRICE_BASIC_ANNUAL=price_basic_annual_id
STRIPE_PRICE_PLUS_MONTHLY=price_plus_monthly_id
STRIPE_PRICE_PLUS_ANNUAL=price_plus_annual_id

# =============================================================================
# APP URLs (SaaS mode)
# =============================================================================

# Main application URL
# APP_URL=https://app.billmanager.app

# Marketing website URL
# MARKETING_URL=https://billmanager.app

# =============================================================================
# TELEMETRY RECEIVER (Production server only)
# =============================================================================

# Enable the telemetry receiver endpoint to collect anonymous usage data
# from self-hosted installations. Only enable on the central production server.
# ENABLE_TELEMETRY_RECEIVER=true

# =============================================================================
# OIDC / SOCIAL LOGIN (All providers off by default)
# =============================================================================
# Enable individual providers by setting ENABLED=true and providing credentials.
# Self-hosters can enable any combination of providers.

# Google (https://console.cloud.google.com/apis/credentials)
# OAUTH_GOOGLE_ENABLED=false
# OAUTH_GOOGLE_CLIENT_ID=
# OAUTH_GOOGLE_CLIENT_SECRET=

# Apple (https://developer.apple.com/account/resources/identifiers)
# OAUTH_APPLE_ENABLED=false
# OAUTH_APPLE_CLIENT_ID=
# OAUTH_APPLE_TEAM_ID=
# OAUTH_APPLE_KEY_ID=
# OAUTH_APPLE_PRIVATE_KEY=

# Microsoft (https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps)
# OAUTH_MICROSOFT_ENABLED=false
# OAUTH_MICROSOFT_CLIENT_ID=
# OAUTH_MICROSOFT_CLIENT_SECRET=
# OAUTH_MICROSOFT_TENANT_ID=common

# Generic OIDC (for Authelia, Keycloak, Authentik, etc.)
# OAUTH_OIDC_ENABLED=false
# OAUTH_OIDC_DISPLAY_NAME=SSO
# OAUTH_OIDC_CLIENT_ID=
# OAUTH_OIDC_CLIENT_SECRET=
# OAUTH_OIDC_DISCOVERY_URL=
# OAUTH_OIDC_SCOPES=openid email profile
# OAUTH_OIDC_ICON=

# =============================================================================
# TWO-FACTOR AUTHENTICATION (Off by default)
# =============================================================================

# Enable 2FA (email OTP + recovery codes)
# ENABLE_2FA=false

# Enable passkeys/WebAuthn for 2FA
# ENABLE_PASSKEYS=false

# WebAuthn Relying Party configuration (required if ENABLE_PASSKEYS=true)
# WEBAUTHN_RP_ID=localhost
# WEBAUTHN_RP_NAME=BillManager
# WEBAUTHN_ORIGIN=http://localhost:5173
